---
title: 为什么要使用 Claude code？如何通过白嫖阿里千问驱动Claude code
tags:
- 个人成长
categories:
- 杂谈
---



对于一个专业程序员，大模型辅助编程确实能提高我们的工作效率，虽然不可避免的会产生一些 shi 山代码，但依然是利大于弊。

我以前一直用 cursor ，cursor订阅费用每月 20 刀，但取消了无限制的 auto，就变得毫无性价比。

而 Claude Code 工具本身是免费的，可以通过环境变量，指定大模型的接入地址，接入的模型名，和按量付费的 key；

国产大模型厂商也Claude Code 进行了积极适配：

DeepSeek使用 Claude code 的适配教程:（推荐） 

https://api-docs.deepseek.com/guides/anthropic_api

智普GLM使用Claude code 的教程:

https://docs.z.ai/scenario-example/develop-tools/claude

阿里百炼通义千问使用Claude code 的教程（可白嫖）:

https://help.aliyun.com/zh/model-studio/claude-code



## 安装 claude code

Windows 用户请使用 WSL2 获得好的的体验，先完成Node.js的安装后再安装 Claude code

```
npm install -g @anthropic-ai/claude-code
```

安装完成后，可以在环境变量写一个国产大模型的接入点配置，这里以可以白嫖 100万 token 的阿里通义千问 qwen3-coder-plus-2025-07-22  模型为例

```
# 代码能力第一梯队的国产模型 qwen3-coder-plus-2025-07-22

export ANTHROPIC_BASE_URL=https://dashscope.aliyuncs.com/api/v2/apps/claude-code-proxy
export ANTHROPIC_AUTH_TOKEN=sk-*********
export ANTHROPIC_MODEL="Qwen/qwen3-coder-plus-2025-07-22"


# 关闭遥测
export CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC=1

```

如何获取 ANTHROPIC_AUTH_TOKEN ？前往阿里云百炼平台获取 key 即可（为了避免推广的嫌疑，自己用 bing.cn 搜阿里云百炼就能获取了）

![img_v3_02q9_fcedc4ca-f52a-4749-b85d-22cde10c931g](https://cdn.fangyuanxiaozhan.com/assets/1758352383324mpxedrbQ.jpeg)



在命令行输入 claude即可启动，并开始基础配置

## 选择主题

![image-20250920150211089](https://cdn.fangyuanxiaozhan.com/assets/1758351733553NN7CKWFf.png)

默认 Dark mode，回车；



## 告诉用户claude 可能会犯错

![image-20250920150325808](https://cdn.fangyuanxiaozhan.com/assets/175835180740671Y5iB60.png)

## 使用推荐配置，比如使用 shift+enter 可以换行


![image-20250920150353058](https://cdn.fangyuanxiaozhan.com/assets/1758351834807aGYkpE5m.png)



## 询问是否给 Claude 读写当前所在文件夹的权限


![image-20250920150554924](https://cdn.fangyuanxiaozhan.com/assets/1758351956514p2Y74jRJ.png)

这里如果不同意，就只能退出Claude code；

推荐用户只在代码项目路径运行 claude code； 这里我们即使选择了 yes, proceed，claude code 在修改文件时，依然会先问我们是否修改，所以这里依然可以继续选择 yes，proceed，然后回车。

![image-20250920151613266](https://cdn.fangyuanxiaozhan.com/assets/1758352578722PYN48kDB.png)

输入/model 回车，可以看到当前使用的免费模型



![image-20250920151708159](https://cdn.fangyuanxiaozhan.com/assets/1758352629767pP0fBPtZ.png)



开始新需求



![image-20250920152501898](https://cdn.fangyuanxiaozhan.com/assets/1758353107556zsdnHi5s.png)

![image-20250920152847234](https://cdn.fangyuanxiaozhan.com/assets/17583533347356RwzCnbT.png)

继续安装依赖包



![image-20250920153007337](https://cdn.fangyuanxiaozhan.com/assets/175835341224520xt0S0c.png)

我刚刚选了几次无需询问特定的命令，claude 把我的项目习惯纪录到了项目的.claude文件夹里的 settting.local.json 里面

![image-20250920153102461](https://cdn.fangyuanxiaozhan.com/assets/17583534670222n7FNhFf.png)

自动改代码，并启动项目

![image-20250920153314368](https://cdn.fangyuanxiaozhan.com/assets/1758353600834NPsBpfyP.png)

完成了第一版

![image-20250920153446077](https://cdn.fangyuanxiaozhan.com/assets/1758353698503kFF4idWp.png)

但我不满意，于是打开 vscode，用低 token 的方式进行精细化调整（如果你不懂代码，可以继续直接终端对话，让 ai 自己改，虽然也能达到目的，但比较费时间，也比较费钱， token 归根到底是要花钱买的）

![image-20250920153752034](https://cdn.fangyuanxiaozhan.com/assets/17583538808421pp2sQDt.png)

截图给大模型，提要求，选中代码，进行精细化调整，这种做法可以平替 cursor

![image-20250920154326179](https://cdn.fangyuanxiaozhan.com/assets/1758354207609DK1hTYf6.png)

修改后，如果不满意，我们可以继续贴图，继续调整，直到满意为止

![image-20250920160451026](https://cdn.fangyuanxiaozhan.com/assets/17583554943923ENtSmCB.png)

##  复合型+强力型+空中型= 闪耀迪迦


![82bf843100854bac8eb7cf29dba674d5~tplv-ry4let6mk6-image](https://cdn.fangyuanxiaozhan.com/assets/1758357019691Wd4tZJAw.png)


https://github.com/musistudio/claude-code-router

如果你是大模型写代码的狂热爱好者，可以对各种模型取长补短，开源项目claude-code-router可以对大模型的不同操作进行分流，实现更低的消耗，更好的体验
```
"Router": {
    "default": "deepseek,deepseek-chat",
    "background": "ollama,qwen2.5-coder:latest",
    "think": "deepseek,deepseek-reasoner",
    "longContext": "openrouter,google/gemini-2.5-pro-preview",
    "webSearch": "gemini,gemini-2.5-flash"
  }
  ```
 使用以上配置，默认对话走 deepseek-chat 模型(无 thinking)，简单的操作使用 qwen2.5-coder（比如在本地查个目录，找个文件什么）; 思考分析则使用 deepseek-reasoner（对复杂任务创建一些 planning，带 thinking）; 超长对话则转换到gemini-2.5-pro-preview（发挥gemini上下文的优势）; 涉及到web 搜索则使用 gemini-2.5-flash（相当于用了google 的搜索）

## Claude code 不愿意告诉你的事实

Claude code 的出现让代码变得不值钱，但是并不是程序员变得不值钱，比如上面的示例中就有一个大模型将zIndex设置为负值，导致星星无法显示的 bug，开始我完全信任大模型，但绕了几轮花费大量 token，依然无发修复，最后我亲自打开 vscode， 花了一分钟定位问题，找到 zIndex那一行代码，改为一个合理的值，立刻正常运行了。


## 小结

Claude code 确实是一个很优雅的工具，直接和文件系统打交道，高效简单，配合各种 IDE适配，确实能极大提高编码效率。

对程序员这个职业而言，编码只是工作的一部分， Claude code 配合国产大模型，确实能让我们有机会用更少的时间写成更好的代码。

以前大家常说，人生苦短，我用 Python；现在是人生苦短，我用 claude code； 不过用了 python 后的程序员，也没有真正闲下来，因为程序员是个需求驱动的职业，代码效率提高了，提需求的效率也会水涨船高。

有人说 Claude code 会取代程序员这个职业，我的建议是开发者都能尝试 Claude Code 写一些代码，最大的祛魅是拥有，品过后，了解Claude code 真实的使用体验，自然就没那么焦虑了。




