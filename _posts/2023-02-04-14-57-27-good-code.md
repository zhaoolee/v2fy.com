---
title: 编程小技巧:尽早汪汪汪的狗才是好狗;少用胶水;避免被僵尸吃掉脑子
tags:
- 个人成长
categories:
- 杂谈
---

## 尽早汪汪汪的狗才是好狗

我们的工作是去野外采摘药草，然后卖给药店，为了提高效率，我们打算买条狗，此刻有甲乙两条狗，可以购买...

甲狗：一旦发现药草，就立刻汪汪汪!

乙狗：发现药草后，默不作声，然后向随机方向走上100米，然后汪汪汪...

我们应该选择哪条狗？乙狗显然没啥用

**对应到日常编程中，我们的代码，接收到不合理变量输入时，应尽快报错（汪汪汪），而不是等到程序崩溃了，再去回头找错误**。





## 少用胶水

我买了个手办，需在墙上固定一个木板，把手办摆上去，有两个方案:

方案A: 搞瓶胶水，然后把木板侧面与墙粘合在一起。

方案B: 在墙上打孔，然后在孔里加两根棍，形成一个支架，在支架上放一个木板。

胶水方案方便，问题在于，黏到墙上，就完全无法调整，而支架可以加小垫片精调。

需求也会随时间变化，多放几个手办，胶水粘性无法承担更大的重量，自然被废弃。


**写码不是一锤子买卖，要留出精调的参数，也要方便修改，适应不断增长的需求**



## 避免被僵尸吃掉脑子

内存泄漏是一个经典问题，用Javascript写程序，我们需要使用定时器，监听器，如果我们用完后忘记清理，就会造成内存泄漏。这些定时器，监听器就像一只只僵尸(Zombies)，在地下室里蹒跚而行（参考植物大战僵尸中的普通僵尸）



![僵尸](https://cdn.fangyuanxiaozhan.com/assets/1675497798598cTBGAaQ0.png)

这些幽灵般的不死不灭的僵尸会吃掉大脑，让记忆外泄(内存泄漏), React Hook这类工具也给出了 useEffect return 函数的方式，专门清理这些僵尸；

内存泄漏无小事，**关注代码运行的副作用，规范编码，不要让僵尸吃掉脑子**。






